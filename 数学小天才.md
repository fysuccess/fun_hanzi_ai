
## 数学小天才

### 1. 核心游戏目标与用户体验

- **目标用户:** 5岁儿童（考虑到“分数和小数”级别，可能需要覆盖5-8岁范围）。
- **游戏目标:** 通过互动和趣味性的练习，帮助儿童掌握基础的加、减、乘、除运算。
- **核心体验:**
  - **趣味性:** 使用色彩鲜艳的界面、可爱的角色或奖励机制（如星星、徽章）来保持孩子的兴趣。
  - **即时反馈:** 孩子每次回答后，立即给予“正确”或“错误”的视觉和听觉反馈。
  - **简单操作:** 界面设计应简洁，大按钮，易于点击，适合触屏设备。

### 2. 游戏内容与难度级别（DeepSeek-Chat API集成点）

您将使用DeepSeek-Chat模型来**生成**符合以下规则的数学题目。

| **级别**    | **名称**   | **运算类型**                               | **数字范围** | **特殊要求**                                                 | **DeepSeek-Chat Prompt 示例**                                |
| ----------- | ---------- | ------------------------------------------ | ------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **1. 简单** | ⭐️ 启蒙小试 | 仅**加法** ($+$), **减法** ($-$)           | 0 到 20      | 确保**减法结果为正数或零**。                                 | *“请生成一个适合5岁孩子的加法或减法题目，数字都在20以内，减法结果不为负。格式为 `问题 |
| **2. 中等** | 🚀 挑战进阶 | **加、减、乘、除**混合                     | 0 到 20      | 确保**除法是整除**，且**乘法结果不大于20**。                 | *“请生成一个数字在20以内的加、减、乘、除混合运算题目。除法必须整除，乘法结果不超过20。格式为 `问题 |
| **3. 困难** | 💡 数学精英 | **加、减、乘、除**，涉及**分数**和**小数** | 0 到 100     | **分数**仅涉及 $\frac{1}{2}, \frac{1}{4}$ 等简单分母。**小数**仅涉及一位小数（如 1.5）。 | *“请生成一个涉及100以内分数或一位小数的加减乘除运算题目。例如 $\frac{1}{2} + \frac{1}{4} = ?$ 或 $1.5 \times 2 = ?$。格式为 `问题 |



### 3. 技术实施与架构（API集成）

#### A. DeepSeek API 配置

- **模型:** `deepseek-chat`
- **API Key:** 必须从环境变量 `.env` 中读取（如 `DEEPSEEK_API_KEY`）。
- **请求类型:** 使用标准的 HTTP POST 请求调用 DeepSeek API。
- **数据格式:** 设定模型返回的格式（例如，要求其返回一个特定的 JSON 结构或管道分隔的字符串，如上面的 Prompt 示例所示，方便解析）。

#### B. DeepSeek-Chat 交互流程

1. **用户选择**难度级别（简单/中等/困难）。
2. **前端**向**后端**发送请求，包含所选的难度级别。
3. **后端**根据难度级别，构造相应的**Prompt**（使用上述表格中的示例）。
4. **后端**调用 DeepSeek API，传递 Prompt 和 API Key。
5. **DeepSeek**返回包含**题目**和**答案**的文本。
6. **后端**解析 DeepSeek 的返回结果，将**题目**发送给**前端**显示，同时将**答案**存储在会话中用于校验。

#### C. 游戏逻辑与功能

| **功能**          | **描述**                                                   |
| ----------------- | ---------------------------------------------------------- |
| **题目生成器**    | 根据难度级别，向 DeepSeek API 发送请求并解析结果。         |
| **答案输入**      | 为孩子提供一个简单易用的数字键盘（或选择题选项）。         |
| **校验器**        | 比较孩子的输入答案和 DeepSeek 返回的正确答案。             |
| **得分/进度追踪** | 记录孩子连续答对的次数或总得分，例如每答对一题奖励一颗星。 |
| **奖励系统**      | 积累星星或分数后，可以解锁新的背景、角色或动画。           |

#### D.技术选型

**前端/全栈框架** Next.js (React)

**语言** TypeScript

**样式** Tailwind CSS

**API Backend** Next.js API Routes

